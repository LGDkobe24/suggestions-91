## 7 使用工具辅助项目开发

Python项目的开发过程，其实就是一个或多个包的开发过程，而这个开发过程又由包的安装、管理、测试和发布等多个节点构成，所以这是一个复杂的过程，使用工具进行辅助开发有利于减少流程损耗，提升生产力。

### 建议70：从PyPI安装包

PyPI全称Python Package Index，直译过来就是“Python包索引”，它是Python编程语言的软件仓库。

### 建议71：使用pip和yolk安装、管理包

### 建议72：用paster创建包

distutils标准库

pastescript是一个有着良好插件机制的命令行工具

### 建议73：理解单元测试概念

好的单元测试可以带来以下好处：
* 减少了潜在bug，提高了代码的质量。
* 大大缩减软件修复的成本。
* 为集成测试提供基本保障。

纵然单元测试有各种好处，事实却往往是“理想很丰满，现实很骨感”。实际应用中，单元测试的实践并不理想，原因是多方面的：一则管理层重视不够，根本没有把单元测试提升到和系统集成测试同样的高度；二则是迫于项目期限的压力，开发人员往往没有更多的时间来写单元测试的用例和代码；三则开发人员本身存又趋利避害的侥幸心里，他们更关注于可以工作的代码，一旦编码完成，便迫切地希望进行集成工作，因为这样进度看起来更快，同时寄希望于集成测试去发现程序中潜在的问题。

有效的单元测试应该从以下几个方面考虑：

> 1. 测试先行，遵循单元测试步骤。测试不应该是编码结束后再来考虑的事情，实际上从项目需求阶段就应该开始考虑。编写单元测试应该尽量安排在项目的早起，并且测试代码应该先于被测试的代码，这样更有利于明确需求，典型的单元测试的步骤如下：>>
>> * 创建测试计划。
>> * 编写测试用例，准备测试数据。
>> * 编写测试脚本。
>> * 编写被测试代码，在代码完成之后执行测试脚本。
>> * 修正代码缺陷，重新测试直到代码可接受为止。
> 2. 遵循单元测试基本原则。常见的原则如下：
>>
>> * 一致性。意味着1000次执行和一次执行的结果应该是一样的。
>> * 原子性。意味着单元测试的执行结果返回只有两种，True后者False，不存在部分成功、部分失败的例子。
>> * 单一职责。测试应该基于情景和行为，而不是方法。如果一个方法对应着多种行为，应该有多个测试用例；而一个行为即使对应多个防范也只能有一个测试用例。
>> * 隔离性。不能依赖于其他的测试用例以及测试执行的顺序，并且无条件逻辑依赖。单元测试所有的输入应该是确定的，防范的行为和结果应是可以预测的。
> 3. 使用单元测试框架。unittest标准库。

### 建议74：为包编写单元测试

unittest标准库。

nose测试框架。

### 建议75：利用测试驱动开发提高代码的可测性


